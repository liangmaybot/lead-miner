const POSITIVE_WORDS = new Set([
  'great', 'good', 'friendly', 'quick', 'pleasant', 'clean', 'tasty', 'solid',
  'love', 'excellent', 'amazing', 'helpful', 'professional', 'value', 'nice'
]);

const NEGATIVE_WORDS = new Set([
  'bad', 'terrible', 'rude', 'slow', 'dirty', 'cold', 'disappointed', 'worst',
  'awful', 'poor', 'avoid', 'overpriced', 'broken', 'unprofessional', 'late'
]);

export default class Sentiment {
  analyze(text = '') {
    const tokens = text.toLowerCase().match(/[a-z']+/g) || [];
    let score = 0;
    const positive = [];
    const negative = [];

    for (const token of tokens) {
      if (POSITIVE_WORDS.has(token)) {
        score += 1;
        positive.push(token);
      }
      if (NEGATIVE_WORDS.has(token)) {
        score -= 1;
        negative.push(token);
      }
    }

    const comparative = tokens.length ? score / tokens.length : 0;

    return {
      score,
      comparative,
      positive,
      negative,
    };
  }
}
